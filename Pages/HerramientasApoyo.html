<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Herramientas de Apoyo para Tutorías - ITS Jerez</title>
  <!-- Bootstrap CSS -->
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f8f9fa;
    }
    .card {
      margin-bottom: 20px;
    }
    .tool-button {
      margin: 5px 0;
    }
  </style>
</head>
<body>

<div class="container">
  <h1 class="mt-4">Herramientas de Apoyo para Tutorías</h1>
  <p>Accede rápidamente a tus herramientas de apoyo favoritas para mejorar la experiencia de las tutorías.</p>

  <!-- Accesos rápidos a herramientas -->
  <div class="card">
    <div class="card-body">
      <h5 class="card-title">Accesos Rápidos a Herramientas</h5>
      <button class="btn btn-primary tool-button" onclick="abrirGoogleDrive()">Google Drive</button>
      <button class="btn btn-info tool-button" onclick="abrirOneDrive()">OneDrive</button>
      <button class="btn btn-success tool-button" onclick="abrirZoom()">Zoom</button>
      <!-- Agregar más herramientas si es necesario -->
    </div>
  </div>

  <!-- Conectar cuentas -->
  <div class="card">
    <div class="card-body">
      <h5 class="card-title">Conectar Cuentas</h5>
      <p>Conecta tus cuentas para un acceso rápido y seguro a tus archivos y reuniones.</p>
      <button class="btn btn-outline-primary tool-button" onclick="conectarGoogle()">Conectar Google</button>
      <button class="btn btn-outline-info tool-button" onclick="conectarMicrosoft()">Conectar Microsoft</button>
      <button class="btn btn-outline-success tool-button" onclick="conectarZoom()">Conectar Zoom</button>
    </div>
  </div>

  <!-- Historial de accesos recientes -->
  <div class="card">
    <div class="card-body">
      <h5 class="card-title">Historial de Accesos Recientes</h5>
      <ul class="list-group" id="historialAccesos">
        <li class="list-group-item">No hay accesos recientes.</li>
      </ul>
    </div>
  </div>
</div>

<!-- Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<!-- Script para gestionar herramientas y accesos -->
<script>
  const historialAccesos = [];

  // Funciones para abrir herramientas
  function abrirGoogleDrive() {
    window.open("https://drive.google.com", "_blank");
    registrarAcceso("Google Drive");
  }

  function abrirOneDrive() {
    window.open("https://onedrive.live.com", "_blank");
    registrarAcceso("OneDrive");
  }

  function abrirZoom() {
    window.open("https://zoom.us", "_blank");
    registrarAcceso("Zoom");
  }

  // Funciones para conectar cuentas (simulación)
  function conectarGoogle() {
    alert("Conectando con Google...");
  }

  function conectarMicrosoft() {
    alert("Conectando con Microsoft...");
  }

  function conectarZoom() {
    alert("Conectando con Zoom...");
  }

  // Registrar y mostrar historial de accesos
  function registrarAcceso(herramienta) {
    const fecha = new Date().toLocaleString();
    historialAccesos.unshift({ herramienta, fecha }); // Agregar al inicio del historial
    mostrarHistorial();
  }

  function mostrarHistorial() {
    const listaHistorial = document.getElementById('historialAccesos');
    listaHistorial.innerHTML = '';

    if (historialAccesos.length === 0) {
      listaHistorial.innerHTML = '<li class="list-group-item">No hay accesos recientes.</li>';
    } else {
      historialAccesos.slice(0, 5).forEach(acceso => { // Mostrar solo los últimos 5 accesos
        const item = document.createElement('li');
        item.classList.add('list-group-item');
        item.textContent = `${acceso.herramienta} - ${acceso.fecha}`;
        listaHistorial.appendChild(item);
      });
    }
  }

  // Cargar historial inicial
  mostrarHistorial();
</script>

</body>
</html>
<!--// Ejemplo de autenticación con Google Drive en Node.js
const { google } = require('googleapis');
const oauth2Client = new google.auth.OAuth2(CLIENT_ID, CLIENT_SECRET, REDIRECT_URL);

// Generar URL de autenticación
app.get('/auth/google', (req, res) => {
  const authUrl = oauth2Client.generateAuthUrl({
    access_type: 'offline',
    scope: ['https://www.googleapis.com/auth/drive']
  });
  res.redirect(authUrl);
});

// Callback para la autenticación de Google
app.get('/auth/google/callback', (req, res) => {
  const code = req.query.code;
  oauth2Client.getToken(code, (err, token) => {
    if (err) return res.status(500).send('Error en la autenticación');
    oauth2Client.setCredentials(token);
    res.redirect('/'); // Redirige al usuario al inicio después de autenticar
  });
});
-->